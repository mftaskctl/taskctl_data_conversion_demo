<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TASKCtl Data Conversion Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="./favicon.ico" rel="shortcut icon" />
    <link href="./favicon.ico" rel="bookmark" />
    <link href="assets/bootstrap/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="assets/css/demo.css" />
    <link rel="stylesheet" href="assets/bootstrap/bootstrap-slider.min.css" />
  </head>
  <body>
    <div class="container-fluid">
      <div class="fixed1"></div>
      <div class="row layout">
        <div id="container" class="col-9 layout-left"></div>
        <div class="col-3 layout-right">
          <div
            class="btn-group btn-group-justified tool"
            role="group"
            aria-label="..."
          >
            <!-- Single button -->
            <div class="btn-group">
              <button
                id="dpbtn"
                type="button"
                class="btn btn-primary dropdown-toggle"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                请选择案列 <span class="caret"></span>
              </button>
              <div class="dropdown-menu">
                <div class="button">
                  <a
                    href="#case_1_1"
                    class="list-group-item"
                    onclick="renderDemo1_1()"
                  >
                    <span>案列1_1) - 1拆边/4节点</span>
                  </a>
                  <a
                    href="#case_1_2"
                    class="list-group-item"
                    onclick="renderDemo1_2()"
                  >
                    <span>案列1_2) 1拆边/4节点</span>
                  </a>
                  <a
                    href="#case_2"
                    class="list-group-item"
                    onclick="renderDemo2()"
                  >
                    <span>案列2_1) 2拆边/13节点</span>
                  </a>
                  <a
                    href="#case_2"
                    class="list-group-item"
                    onclick="renderDemo2_2()"
                  >
                    <span>案列2_2) 2拆边/26节点</span>
                  </a>
                  <a
                    href="#case_3"
                    class="list-group-item"
                    onclick="renderDemo3()"
                  >
                    <span>案列3) 3拆边/51节点</span>
                  </a>
                  <!-- <a href="#" class="list-group-item" onclick="renderDemo100()">
                    <span>案列4-复杂数据</span>
                  </a> -->
                  <a
                    href="#"
                    class="list-group-item"
                    onclick="renderDemoCustom()"
                  >
                    <span>请选择案列/输入数据</span>
                  </a>
                </div>
              </div>
            </div>
            <button
              type="button"
              class="btn btn-danger btn-md"
              style="min-width: 120px;"
              onclick="run('remove-edge')"
            >
              运行(拆边)
            </button>
            <button
              type="button"
              class="btn btn-success btn-md"
              style="min-width: 80px;"
              onclick="run()"
            >
              运行
            </button>
          </div>
          <textarea id="textarea"></textarea>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="assets/g6/g6.min.js"></script>
    <script src="assets/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="assets/js/demo.js"></script>
    <script src="assets/bootstrap/bootstrap.bundle.min.js"></script>
    <script src="assets/bootstrap/bootstrap-slider.min.js"></script>

    <script>
      function renderDemo1_1() {
        render(
          `
          1,2,0
          2,3,0
          2,4,1
          3,4,0
        `,
          `
          <h6>案列1</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }
      function renderDemo1_2() {
        render(
          `
          1,2,0
          1,3,0
          2,4,0
          3,4,0
          2,3,1
        `,
          `
          <h6>案列1.2</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }
    </script>

    <script>
      function renderDemo2() {
        render(
          `
          1,2,0
1,3,0
1,4,0
2,5,0
2,6,0
5,7,0
5,8,0
6,9,0
7,10,0
8,10,0
9,10,0
3,11,0
4,12,0
10,13,0
11,13,0
12,13,0
3,9,1
3,4,1
        `,
          `
          <h6>案列2.1</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }

      function renderDemo2_2() {
        render(
          `
          1,2,0
1,3,0
1,4,0
2,5,0
2,6,0
5,7,0
5,8,0
6,9,0
7,10,0
8,10,0
9,14,0
14,15,0
14,16,1
15,16,0
16,10,0
3,11,0
4,12,0
10,13,0
11,13,0
12,17,0
17,13,0
3,9,1


        `,
          `
          <h6>案列2.2</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }
    </script>

    <script>
      function renderDemo3() {
        render(
          `
          1,2,0
          2,3,0
          3,6,0
          1,4,0
          1,5,0
          4,6,0
          5,7,0
          5,8,0
          7,9,0
          8,9,0
          6,10,0
          9,10,0,

          11,12,0
          12,13,0
          13,16,0
          11,14,0
          11,15,0
          14,16,0
          15,17,0
          15,18,0
          17,19,0
          18,19,0
          16,20,0
          19,20,0,

          21,22,0
          22,23,0
          23,26,0
          21,24,0
          21,25,0
          24,26,0
          25,27,0
          25,28,0
          27,29,0
          28,29,0
          26,30,0
          29,30,0

          31,32,0
          32,33,0
          33,36,0
          31,34,0
          31,35,0
          34,36,0
          35,37,0
          35,38,0
          37,39,0
          38,39,0
          36,40,0
          39,40,0

          41,42,0
          41,43,0
          41,44,0
          42,45,0
          42,46,0
          43,48,0,
          44,48,0
          45,47,0
          45,48,1
          46,49,0
          47,50,0
          48,50,0
          49,50,0


          10,11,0,
          10,31,0
          10,21,0
          10,41,0,

          20, 51,0
          30,51,0,
          40,51,0,
          50,51,0

          31,16,1
          31,20,1
      `,
          `
          <h6>案列3</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }
    </script>
    <script>
      function renderDemo100() {
        render(
          [
            generate(1, [2, 3, 4, 5]),
            generate(2, [6, 7]),
            generate(7, [8, 9, 10]),
            generate([6, 8, 9, 10], 11),
            generate([3, 12, 14, 15]),
            generate(4, [16, 17, 18]),
            generate([5, 19]),
            generate(19, [20, 21, 22, 23]),
            generate([16, 17, 18, 15, 20, 21, 22, 23], 24),
            generate([11, 24], 25),
            generate([25, 26, 27]),
            generate(27, [28, 29, 30]),
            generate([28, 31, 32]),
            generate(29, [31, 33, 34]),
            generate(30, [34, 35]),
            generate(33, 36),
            generate([32, 36, 34, 35], 37),
            generate(37, [38, 39]),
            generate([38], [40, 41]),
            generate([39], [42, 43]),
            generate([40, 41, 42, 43], 44),

            generate(24, [45, 46, 47]),
            generate([45, 46, 47], 48),

            generate(23, [49, 50, 51]),
            generate(49, [51]),
            generate(50, [52, 53, 54, 55]),
            generate([51, 55, 56]),
            generate([52, 52, 56]),
            generate([52, 53, 54], 57),

            generate([56, 57], 58),

            generate([48], [59, 60, 61]),
            generate([59, 60, 61], 62),
            generate([62, 58], 63),

            generate(11, [59, 62, 63]),
            generate([63, 44], 64),
          ].reduce(
            function (all, array) {
              return all.concat(array);
            },
            `
          <h6>案列4</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
          )
        );
      }
    </script>

    <script>
      function renderDemoCustom() {
        return render(
          ``,
          `
          <h6>自定义案例</h6>
          1. 数据每行为一条数据。<br>
          2. 数据每行格式 "start,end,edge", 其中line: 0/不可拆分边，1/可拆分边<br>
          3. 输入数据为line值全部为0，输出更改需要拆边的line:1
        `
        );
      }
    </script>

    <script>
      if (location.hash) {
        $(`a[href='${location.hash}']`).click();
      } else {
        $(".dropdown-menu a:eq(0)").click();
      }
    </script>

    <script>
      function run(mode) {
        render(
          document.getElementById("textarea").value,
          document.getElementById("tip").innerHTML,
          mode
        );
      }
    </script>
  </body>
</html>
